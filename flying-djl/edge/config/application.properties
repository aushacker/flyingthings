offline=true

# devservices
quarkus.devservices.enabled=false

quarkus.http.host=0.0.0.0

# ###########       MQTT notifications of model state change
mp.messaging.incoming.modelNotify.topic=djl-model-notify
mp.messaging.incoming.modelNotify.host=localhost
mp.messaging.incoming.modelNotify.port=1883
mp.messaging.incoming.modelNotify.username=djl
mp.messaging.incoming.modelNotify.password=djl
mp.messaging.incoming.modelNotify.client-id=${HOSTNAME:localhost}-mn


###########     minio
quarkus.minio.rht.url=http://rht:9000
quarkus.minio.rht.access-key=minio
quarkus.minio.rht.secret-key=minio123



##########  Application

# Possible values:
#   1) LiveObjectDetectionResource
org.acme.djl.resource=LiveObjectDetectionResource

# Name of S3 bucket where model could optionally be pushed to
# com.rht.na.gtm.s3.bucket.name=flying-models

org.acme.djl.root.model.path=${HOME}/Downloads/flyingthings/
#org.acme.djl.model.artifact.name=model_custom.pt
org.acme.djl.model.artifact.name=model_custom.torchscript

#org.acme.djl.root.model.path=${HOME}/Downloads/trash
#org.acme.djl.model.artifact.name=best.torchscript


# Execute the following to determine info about your webcam:
#    $ v4l2-ctl --list-devices
#
# The first entry in the list is the device id to specify here
#org.acme.objectdetection.video.capture.device.id=0

# Alternatively, specify a video file to inference on for testing purposes
org.acme.objectdetection.test.video.file=${HOME}/Downloads/flyingthings/plane02.m4v


org.acme.djl.prediction.producer=MockPredictionProducer
#org.acme.djl.prediction.producer=MQTTPredictionProducer

org.acme.objectdetection.capture.duration.millis=15000

# Object detection in Tensorflow can take quite a long time; subsequently increase duration that vert.x will throw a warning when event loop is blocked
quarkus.vertx.max-event-loop-execute-time=10000

org.acme.objectdetection.initial.capture.delay.seconds=10s
org.acme.objectdetection.video.capture.interval.millis=50
org.acme.objectdetection.delay.between.evaluation.seconds=2s
org.acme.objectdetection.continuousPublish=false
org.acme.objectdetection.write.modified.image.to.disk=true


######    messaging     #######

# https://smallrye.io/smallrye-reactive-messaging/smallrye-reactive-messaging/3.4/mqtt/mqtt.html#_configuration_reference_2
mp.messaging.outgoing.liveObjectDetection.topic=liveObjectDetection
#mp.messaging.outgoing.liveObjectDetection.host=192.168.1.221
mp.messaging.outgoing.liveObjectDetection.host=rht
mp.messaging.outgoing.liveObjectDetection.port=1883
mp.messaging.outgoing.liveObjectDetection.username=djl
mp.messaging.outgoing.liveObjectDetection.password=djl
mp.messaging.outgoing.liveObjectDetection.client-id=${HOSTNAME:localhost}-out
mp.messaging.outgoing.liveObjectDetection.qos=1

###############################



####  Logging
quarkus.log.category."ai.djl".level=DEBUG
quarkus.log.category."org.acme".level=DEBUG
